<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>IFE ECMAScript</title>
</head>

<body>
  <input id="first-number" type="number" value="0" placeholder="第一个数字">
  <input id="second-number" type="number" value="0" placeholder="第二个数字">
  <button id="add-btn" onclick="calculation('add')">加</button>
  <button id="minus-btn" onclick="calculation('minus')">减</button>
  <button id="times-btn" onclick="calculation('times')">乘</button>
  <button id="divide-btn" onclick="calculation('divide')">除</button>
  <p id="result">运算结果</p>
  <script>
    // 统一成一个方法根据传值的值判断需要什么计算 减少代码量而且也工整
    function calculation(id) {
      // 每次执行函数时候缓存需要用到的变量，减少每次dom查找的性能损失
      // dom查找是十分消耗性能的
      var $firstNumber = document.getElementById('first-number');
      var $secondNumber = document.getElementById('second-number');
      var firstNumber = parseInt($firstNumber.value, 10);
      var secondNumber = parseInt($secondNumber.value, 10);

      var rep = /^\d+$/g;
      // 正则匹配全数字
      if (!rep.test(firstNumber) || !rep.test(secondNumber)) {
        console.log('输入的为非数字');
        return false
      }

      // 使用$符号开头命名对象
      var $result = document.getElementById('result');
      if (id === 'add') {
        $result.innerHTML = firstNumber + secondNumber;
      } else if (id === 'minus' && secondNumber != 0) {
        $result.innerHTML = firstNumber - secondNumber;
      } else if (id === 'times') {
        $result.innerHTML = firstNumber * secondNumber;
      } else if (id === 'divide') {
        $result.innerHTML = firstNumber / secondNumber;
      }
    }
  </script>
</body>

</html>